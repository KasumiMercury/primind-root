# =============================================================================
# GCP Project Configuration
# =============================================================================
project_id     = "your-project-id"
project_number = "123456789012"
region         = "asia-northeast2"

# =============================================================================
# Shared Infrastructure Configuration
# =============================================================================
database = {
  tier      = "db-f1-micro"
  disk_size = 10
  disk_type = "PD_HDD"
}

redis = {
  tier           = "BASIC"
  memory_size_gb = 1
}

# =============================================================================
# External URLs
# =============================================================================
web_app_url              = "https://primind.example.com"
oidc_google_redirect_uri = "https://api.primind.example.com/auth/callback"

# =============================================================================
# Per-Service Configuration
# Database passwords are auto-generated by Terraform
# =============================================================================
services = {
  central_backend = {
    image_tag     = "v0.1.0"
    min_instances = 0
    max_instances = 3
    cpu           = "1"
    memory        = "512Mi"
    # database name/user can be customized (optional):
    # database = {
    #   name = "primind_db"
    #   user = "primind_user"
    # }
  }
  time_mgmt = {
    image_tag     = "v0.1.0"
    min_instances = 0
    max_instances = 3
    cpu           = "1"
    memory        = "512Mi"
    # database name/user can be customized (optional):
    # database = {
    #   name = "timemgmt_db"
    #   user = "timemgmt_user"
    # }
  }
  throttling = {
    image_tag     = "v0.1.0"
    min_instances = 0
    max_instances = 3
    cpu           = "1"
    memory        = "512Mi"
  }
  notification_invoker = {
    image_tag     = "v0.1.0"
    min_instances = 0
    max_instances = 5
    cpu           = "1"
    memory        = "512Mi"
  }
}

# =============================================================================
# OIDC Credentials (from Google Cloud Console)
# Set via environment variables:
# =============================================================================
# export TF_VAR_oidc_google_client_id="your-google-client-id"
# export TF_VAR_oidc_google_client_secret="your-google-client-secret"
